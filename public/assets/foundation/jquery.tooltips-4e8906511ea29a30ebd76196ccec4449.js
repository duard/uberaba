/*
 * jQuery Foundation Tooltip Plugin 1.0.1
 * http://foundation.zurb.com
 * Copyright 2012, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/
(function(e){var t={bodyHeight:0,pollInterval:1e3},n={init:function(r){return this.each(function(){var r,i,s,o;e(window).data("tooltips","init"),r=e(".has-tip"),i=e(".tooltip"),s=function(e,t){return'<span data-id="'+e+'" class="tooltip">'+t+'<span class="nub"></span></span>'},o=setInterval(n.isDomResized,t.pollInterval),i.length<1&&r.each(function(t){var r,i,o,u,a;r=e(this),o="foundationTooltip"+t,u=r.attr("title"),a=r.attr("class"),r.data("id",o),i=e(s(o,u)),i.addClass(a).removeClass("has-tip").appendTo("body"),Modernizr.touch&&i.append('<span class="tap-to-close">tap to close </span>'),n.reposition(r,i,a),i.fadeOut(150)}),e(window).on("resize.tooltip",function(){var t=e(".tooltip");t.each(function(){var t,i,s,o;t=e(this).data(),i=r=e(".has-tip"),s=e(this),o=s.attr("class"),r.each(function(){e(this).data().id==t.id?i=e(this):i=i}),n.reposition(i,s,o)})}),Modernizr.touch?(e(".tooltip").on("click.tooltip touchstart.tooltip touchend.tooltip",function(t){t.preventDefault(),e(this).fadeOut(150)}),r.on("click.tooltip touchstart.tooltip touchend.tooltip",function(t){t.preventDefault(),e(".tooltip").hide(),e("span[data-id="+e(this).data("id")+"].tooltip").fadeIn(150),r.attr("title","")})):r.hover(function(){e("span[data-id="+e(this).data("id")+"].tooltip").fadeIn(150),r.attr("title","")},function(){e("span[data-id="+e(this).data("id")+"].tooltip").fadeOut(150)})})},reload:function(){var t=e(this);return t.data("tooltips")?t.tooltips("destroy").tooltips("init"):t.tooltips("init")},destroy:function(){return this.each(function(){e(window).unbind(".tooltip"),e(".has-tip").unbind(".tooltip"),e(".tooltip").each(function(t){e(e(".has-tip").get(t)).attr("title",e(this).text())}).remove()})},reposition:function(t,n,r){var i,s,o,u,a,f;i=t.data("width"),s=n.children(".nub"),o=s.outerHeight(),u=s.outerWidth(),f=function(e,t,n,r,i,s){return e.css({top:t,bottom:r,left:i,right:n,width:s?s:"auto"}).end()},f(n,t.offset().top+t.outerHeight()+10,"auto","auto",t.offset().left,i),f(s,-o,"auto","auto",10),e(window).width()<767?(a=t.parents(".row"),n.width(a.outerWidth()-20).css("left",a.offset().left).addClass("tip-override"),f(s,-o,"auto","auto",t.offset().left)):r.indexOf("tip-top")>-1?(f(n,t.offset().top-n.outerHeight()-o,"auto","auto",t.offset().left,i).removeClass("tip-override"),f(s,"auto","auto",-o,"auto")):r.indexOf("tip-left")>-1?(f(n,t.offset().top+t.outerHeight()/2-o,"auto","auto",t.offset().left-n.outerWidth()-10,i).removeClass("tip-override"),f(s,n.outerHeight()/2-o/2,-o,"auto","auto")):r.indexOf("tip-right")>-1&&(f(n,t.offset().top+t.outerHeight()/2-o,"auto","auto",t.offset().left+t.outerWidth()+10,i).removeClass("tip-override"),f(s,n.outerHeight()/2-o/2,"auto","auto",-o))},isDomResized:function(){$body=e("body"),t.bodyHeight!=$body.height()&&(t.bodyHeight=$body.height(),e(window).trigger("resize"))}};e.fn.tooltips=function(t){if(n[t])return n[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return n.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.tooltips")}})(jQuery);